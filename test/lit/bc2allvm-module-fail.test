// RUN: llvm-as %p/Inputs/simplest.ll -o %t.bc
//
// Test trying to write to a file that already exists
// XXX: Ideally this would fail while with error about opening outputfile for write
// RUN: bc2allvm %t.bc -f -o %t
// RUN: not bc2allvm %t.bc -o %t |& FileCheck %s
//
// It'd be nice if we said something better than this,
// but at least we catch these errors.
// CHECK: Error adding module to allexe
//
// Test trying to write to a directory (output error)
// RUN: not bc2allvm %t.bc -o %T |& FileCheck -check-prefix=OUTPUT %s
//
// OUTPUT: Could not open
// This is bad, but when we improve it we should have a test for it
// which will be forced when this fails:
// OUTPUT-SAME: unknown reason
